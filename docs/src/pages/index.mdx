---
layout: ../layouts/BaseLayout.astro
title: Overview
description: Overview - Core architecture and class diagrams of the IoC container
---


import CodeBlock from '../components/CodeBlock.astro';
import architectureDiagram from '@assets/diagrams/architecture-overview.mermaid?raw';
import classDiagram from '@assets/diagrams/class-diagram.mermaid?raw';
import basicSpecCode from '../../../__tests__/readme/basic.spec.ts?raw';

# TypeScript IoC Container

<h2 id="advantages" class="toc-link">Advantages</h2>

- battle tested üí•
- written on `typescript`
- simple and lightweight ‚ù§Ô∏è
- clean API üíö
- supports `tagged scopes`
- fully test covered üíØ
- can be used with decorators `@inject`
- can inject properties
- can inject lazy dependencies
- composable and open to extend

<h2 id="quick-start" class="toc-link">Quick Start</h2>

<CodeBlock
  code="npm install ts-ioc-container reflect-metadata"
  lang="bash"
/>

<CodeBlock code="yarn add ts-ioc-container reflect-metadata" lang="bash" />

Put this in your entrypoint file (should be the first line):

<CodeBlock code="import 'reflect-metadata';" lang="typescript" />

Configure `tsconfig.json`:
<CodeBlock
  code={`{
    "compilerOptions": {
      "experimentalDecorators": true,
      "emitDecoratorMetadata": true
    }
  }`}
  lang="json"
/>

### Basic Example: User Authentication

This example demonstrates a real-world pattern: an `AuthService` that depends on a `UserRepository` for database access. The container automatically wires up the dependencies.

<CodeBlock
  code={basicSpecCode}
  lang="typescript"
  filename="__tests__/readme/basic.spec.ts"
/>

### Express.js Integration

Here's how to integrate the container with Express.js for request-scoped dependencies:

<CodeBlock
  code={`import express from 'express';
import { Container, type IContainer } from 'ts-ioc-container';

// Extend Express Request type
declare global {
  namespace Express {
    interface Request {
      container: IContainer;
    }
  }
}

// Application container (singleton services)
const appContainer = new Container({ tags: ['application'] });
// ... register your services

// Middleware: Create request scope
app.use((req, res, next) => {
  req.container = appContainer.createScope({ tags: ['request'] });
  res.on('finish', () => req.container.dispose());
  next();
});

// Route handler
app.post('/login', (req, res) => {
  const authService = req.container.resolve<AuthService>('IAuthService');
  const result = authService.authenticate(req.body.email, req.body.password);
  res.json({ success: result });
});`}
  lang="typescript"
  filename="Express.js integration"
/>

<h2 id="documentation" class="toc-link">Documentation</h2>

Browse the documentation chapters in the navigation menu to learn about:

- [Overview](/ts-ioc-container/) - Core architecture and class diagrams
- [Container](/ts-ioc-container/container) - Core container functionality, scopes, and instance management
- [Registration](/ts-ioc-container/registration) - Registering providers with keys and scopes
- [Provider](/ts-ioc-container/provider) - Dependency factories with singleton, args, visibility, alias, and decorator features
- [Injector](/ts-ioc-container/injector) - Different injection strategies (Metadata, Simple, Proxy)
- [Token](/ts-ioc-container/token) - Token types for dependency keys (InjectionToken, SingleToken, GroupAliasToken, etc.)
- [Hooks](/ts-ioc-container/hooks) - Lifecycle hooks for instance initialization and cleanup (onConstruct, onDispose)

<h2 id="core-architecture" class="toc-link">Core Architecture</h2>

This chapter provides an overview of the core architecture and design of the TypeScript IoC container library. Understanding these concepts will help you make the most of the library's features.

The IoC container is built on four fundamental abstractions that work together to provide dependency injection:

<div class="row g-3 mb-4">
  <div class="col-md-6">
    <div class="card h-100">
      <div class="card-body">
        <h5 class="card-title">Container</h5>
        <p class="card-text">Manages the lifecycle and resolution of dependencies</p>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card h-100">
      <div class="card-body">
        <h5 class="card-title">Provider</h5>
        <p class="card-text">Factory that creates dependency instances</p>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card h-100">
      <div class="card-body">
        <h5 class="card-title">Injector</h5>
        <p class="card-text">Determines how dependencies are injected into constructors</p>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card h-100">
      <div class="card-body">
        <h5 class="card-title">Registration</h5>
        <p class="card-text">Connects providers to containers with keys and configuration</p>
      </div>
    </div>
  </div>
</div>

### Architecture Overview

<div class="diagram">
  <div class="mermaid" set:html={architectureDiagram} />
</div>

<h2 id="class-diagram" class="toc-link">Class Diagram</h2>

The following diagram shows the main classes and interfaces and their relationships:

<div class="diagram">
  <div class="mermaid" set:html={classDiagram} />
</div>
