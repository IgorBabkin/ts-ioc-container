---
import BaseLayout from "../layouts/BaseLayout.astro";
import CodeBlock from "../components/CodeBlock.astro";
---

<BaseLayout title="Home" description="TypeScript IoC container library">
  <article>
    <h1>TypeScript IoC Container</h1>

    <p>
      <img
        src="https://img.shields.io/npm/v/ts-ioc-container/latest.svg?style=flat-square"
        alt="NPM version"
      />
      <img
        src="https://img.shields.io/npm/dt/ts-ioc-container.svg?style=flat-square"
        alt="npm downloads"
      />
      <img
        src="https://img.shields.io/bundlejs/size/ts-ioc-container"
        alt="npm package size"
      />
      <a
        href="https://coveralls.io/github/IgorBabkin/ts-ioc-container?branch=master"
      >
        <img
          src="https://coveralls.io/repos/github/IgorBabkin/ts-ioc-container/badge.svg?branch=master"
          alt="Coverage Status"
        />
      </a>
      <img src="https://img.shields.io/npm/l/ts-ioc-container" alt="License" />
      <a href="https://github.com/semantic-release/semantic-release">
        <img
          src="https://img.shields.io/badge/semantic--release-e10079.svg"
          alt="semantic-release"
        />
      </a>
    </p>

    <h2>Advantages</h2>
    <ul>
      <li>battle tested</li>
      <li>written on <code>typescript</code></li>
      <li>simple and lightweight</li>
      <li>clean API</li>
      <li>supports <code>tagged scopes</code></li>
      <li>fully test covered</li>
      <li>can be used with decorators <code>@inject</code></li>
      <li>can inject properties</li>
      <li>can inject lazy dependencies</li>
      <li>composable and open to extend</li>
    </ul>

    <h2>Quick Start</h2>
    <CodeBlock
      code="npm install ts-ioc-container reflect-metadata"
      lang="bash"
    />

    <CodeBlock code="yarn add ts-ioc-container reflect-metadata" lang="bash" />

    <p>Put this in your entrypoint file (should be the first line):</p>
    <CodeBlock code="import 'reflect-metadata';" lang="typescript" />

    <p>Configure <code>tsconfig.json</code>:</p>
    <CodeBlock
      code={`{
  "compilerOptions": {
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true
  }
}`}
      lang="json"
    />

    <p>Creating and using a container:</p>

    <CodeBlock
      code={`import { Container, inject, Registration as R } from 'ts-ioc-container';

// Define your service
class Logger {
  log(message: string) {
    console.log(message);
  }
}

// Define a class that depends on Logger
class App {
  constructor(@inject('ILogger') private logger: Logger) {}

  run() {
    this.logger.log('Hello, IoC!');
  }
}

// Create and configure container
const container = new Container()
  .addRegistration(R.fromClass(Logger).bindToKey('ILogger'));

// Resolve and use
const app = container.resolve(App);
app.run(); // Output: Hello, IoC!`}
      lang="typescript"
    />

    <h2>Documentation</h2>
    <p>
      Browse the documentation chapters in the navigation menu to learn about:
    </p>
    <ul>
      <li>
        <strong><a href="/ts-ioc-container/overview">Overview</a></strong> - Core
        architecture and class diagrams
      </li>
      <li>
        <strong><a href="/ts-ioc-container/container">Container</a></strong> - Core
        container functionality, scopes, and instance management
      </li>
      <li>
        <strong><a href="/ts-ioc-container/injector">Injector</a></strong> - Different
        injection strategies (Metadata, Simple, Proxy)
      </li>
      <li>
        <strong><a href="/ts-ioc-container/provider">Provider</a></strong> - Dependency
        factories with singleton, args, visibility, alias, and decorator features
      </li>
      <li>
        <strong><a href="/ts-ioc-container/token">Token</a></strong> - Token types
        for dependency keys (InjectionToken, IDToken, ClassToken, etc.)
      </li>
      <li>
        <strong
          ><a href="/ts-ioc-container/registration">Registration</a></strong
        > - Registering providers with keys and scopes
      </li>
    </ul>
  </article>
</BaseLayout>

<style>
  .links-container {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .link-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1rem;
    background-color: #f6f8fa;
    border: 1px solid #e1e4e8;
    border-radius: 6px;
    text-decoration: none;
    color: #24292e;
    transition:
      background-color 0.2s,
      border-color 0.2s,
      transform 0.1s;
  }

  .link-badge:hover {
    background-color: #fff;
    border-color: #0366d6;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .link-badge svg {
    flex-shrink: 0;
    color: #24292e;
  }

  .link-badge span {
    font-weight: 500;
  }
</style>
