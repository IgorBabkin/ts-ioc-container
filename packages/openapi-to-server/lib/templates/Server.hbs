{{#each components.schemas}}
  export type {{@key}} = {{render_template 'JsonSchema.hbs' this}};
{{/each}}

export interface IRoute<Payload, Response> {
  handle(payload: Payload): Promise<Response>;
}

export interface HttpResponse<Payload = unknown> {
  status: number;
  payload: Payload;
}

export interface Ok<Payload> extends HttpResponse<Payload> {
  status: 200;
}

export interface Created extends HttpResponse<undefined> {
  status: 203;
}

{{#each paths as |path url|}}
  {{#each (get_methods_obj path)}}
    {{{render_template 'Route.hbs' this}}}
  {{/each}}
{{/each}}

export type Operations = {
{{#each paths as |path url|}}
  {{#each (get_methods_obj path)}}
    {{operationId}}: {{{render_template 'ServerRoute.hbs' this}}};
  {{/each}}
{{/each}}
}

